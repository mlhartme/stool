<configuration>

  <define name="root" class="net.oneandone.stool.server.util.LogDirectory">
    <default>/tmp</default>
  </define>

  <logger name="ACCESS" additivity="false">
    <appender name="ACCESS" class="ch.qos.logback.core.rolling.RollingFileAppender">
      <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
        <fileNamePattern>${root}/access-%d{yyyy-MM-dd, UTC}.log</fileNamePattern>
        <maxHistory>90</maxHistory>
        <totalSizeCap>1GB</totalSizeCap>
      </rollingPolicy>
      <encoder>
        <pattern>%msg</pattern>
      </encoder>
    </appender>
  </logger>

  <logger name="DETAILS" additivity="false">
    <appender name="DETAILS" class="ch.qos.logback.core.rolling.RollingFileAppender">
      <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
        <fileNamePattern>${root}/details-%d{yyyy-MM-dd, UTC}.log</fileNamePattern>
        <maxHistory>90</maxHistory>
        <totalSizeCap>1GB</totalSizeCap>
      </rollingPolicy>
      <encoder>
        <pattern>%msg</pattern>
      </encoder>
    </appender>
  </logger>

  <root level="info">
    <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
      <encoder>
        <pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>
      </encoder>
    </appender>
  </root>

</configuration>
